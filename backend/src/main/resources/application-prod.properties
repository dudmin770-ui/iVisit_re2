# =============================================================================
# iVisit Backend - Production Configuration
# =============================================================================
# All values should be provided via environment variables in production
# =============================================================================

# =============================================================================
# PROFILE
# =============================================================================
# spring.profiles.active=prod

# =============================================================================
# DATABASE (REQUIRED - Must be set via environment variables)
# =============================================================================
spring.datasource.url=jdbc:mysql://${DB_HOST}:${DB_PORT}/${DB_NAME}?useSSL=${DB_USE_SSL:true}&serverTimezone=${DB_TIMEZONE:UTC}
spring.datasource.username=${DB_USERNAME}
spring.datasource.password=${DB_PASSWORD}
spring.datasource.driver-class-name=com.mysql.cj.jdbc.Driver

# =============================================================================
# JPA / HIBERNATE
# =============================================================================
spring.jpa.hibernate.ddl-auto=${JPA_DDL_AUTO:update}
spring.jpa.show-sql=${JPA_SHOW_SQL:false}
spring.jpa.properties.hibernate.format_sql=${JPA_FORMAT_SQL:false}
spring.jpa.database-platform=org.hibernate.dialect.MySQL8Dialect

# =============================================================================
# SERVER
# =============================================================================
server.port=${BACKEND_SERVER_PORT:8080}

# =============================================================================
# FRONTEND URL (for verification links)
# =============================================================================
app.frontend-base-url=${APP_FRONTEND_BASE_URL}

# =============================================================================
# CORS
# =============================================================================
app.cors.allowed-origins=${APP_CORS_ALLOWED_ORIGINS:https://ivisitust.com}

# =============================================================================
# EMAIL / SMTP CONFIGURATION
# =============================================================================
spring.mail.host=${MAIL_HOST}
spring.mail.port=${MAIL_PORT:587}
spring.mail.username=${MAIL_USERNAME}
spring.mail.password=${MAIL_PASSWORD}
spring.mail.properties.mail.smtp.auth=${MAIL_SMTP_AUTH:true}
spring.mail.properties.mail.smtp.starttls.enable=${MAIL_SMTP_STARTTLS:true}
app.mail.from=${MAIL_FROM}

# =============================================================================
# PRODUCTION ADMIN SEEDER
# =============================================================================
app.admin.email=${ADMIN_EMAIL}
app.admin.password=${ADMIN_PASSWORD}
app.admin.username=${ADMIN_USERNAME:Admin}

# =============================================================================
# TWO-FACTOR AUTHENTICATION
# =============================================================================
app.2fa.issuer=${APP_2FA_ISSUER:iVisitUST}

# =============================================================================
# FILE STORAGE
# =============================================================================
file.upload-dir=${FILE_UPLOAD_DIR:uploads/}

# =============================================================================
# H2 CONSOLE (Disabled in Production)
# =============================================================================
spring.h2.console.enabled=false

# =============================================================================
# ERROR HANDLING (Restrict in Production)
# =============================================================================
server.error.include-message=never
server.error.include-binding-errors=never
server.error.include-stacktrace=never

# =============================================================================
# LOGGING
# =============================================================================
logging.level.root=${LOG_LEVEL:WARN}
logging.file.path=${LOG_FILE_PATH:logs}
